<!DOCTYPE html>
<html lang="vi">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Làm Quiz</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="/style/quiz.css">
  </head>
  <body style="font-family: 'Segoe UI', Tahoma, sans-serif; background: linear-gradient(to right, #a1ffce, #faffd1); margin:0; padding:0; display:flex;align-items:center;justify-content:center;min-height:100vh;">
    <div class="quiz-container bg-white p-6 rounded-xl shadow-lg w-full max-w-lg fade-in" style="margin:24px;">
      <h3
        id="question-title"
        class="text-xl font-semibold text-gray-800 mb-4 text-center"
      ></h3>
  <div id="timer-display" class="timer">Thời gian: 10s</div>
      <div id="question-text" class="text-gray-700 mb-6"></div>
      <div class="options space-y-3" id="question-options"></div>
      <div class="flex justify-center gap-3 mt-6">
        <button
          onclick="nextQuestion()"
          class="btn-primary px-6 py-2 rounded-lg hover:bg-green-600 transition font-medium"
          id="next-btn"
          style="border:none;"
        >
          Tiếp theo
        </button>
      </div>
      <div id="score" class="text-center mt-4 text-lg font-semibold">
        Điểm của bạn: <span id="score-value">0</span>
      </div>
      <!-- Preload sounds -->
      <audio id="sound-correct" src="/sound/right_answer_sound.mp3" preload="auto"></audio>
      <audio id="sound-wrong" src="/sound/wrong_answer_sound_2.mp3" preload="auto"></audio>
      <!-- Background music (controlled via home settings) -->
      <audio id="bg-music-audio" src="/sound/background_music.mp3" preload="auto" loop></audio>
    </div>

    <!-- Toast container -->
    <div id="toast-container" style="position:fixed;top:20px;right:20px;z-index:9999;"></div>
    <!-- Results modal -->
    <div id="results-modal" style="display:none;position:fixed;inset:0;align-items:center;justify-content:center;z-index:10000;">
      <div id="results-backdrop" style="position:absolute;inset:0;background:rgba(0,0,0,0.5);"></div>
      <div style="position:relative;background:#fff;border-radius:12px;padding:18px;max-width:720px;width:90%;z-index:10001;">
        <h3 style="margin-top:0;margin-bottom:8px;">Kết quả Quiz</h3>
        <div id="results-summary" style="margin-bottom:12px; color:#333"></div>
        <div id="results-wrongs" style="max-height:260px;overflow:auto;margin-bottom:12px;"></div>
        <div style="text-align:right;"><button id="results-confirm" style="background:#16a34a;color:#fff;padding:8px 12px;border-radius:8px;border:none;cursor:pointer;">Xác nhận</button></div>
      </div>
    </div>

    <script src="scripts/quiz.js"></script>
  </body>
</html>
